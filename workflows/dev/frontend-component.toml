# Frontend Component Workflow (Storybook-First)
# Generates context-aware implementation steps for React components

workflow_id = "frontend_component_storybook"
name = "Frontend Component (Storybook-First)"
description = "Systematic React component implementation with Storybook stories and design system tokens"
workflow_type = "frontend"
version = "1.0.0"

# AI Configuration
llm_provider = "anthropic:claude-3-5-sonnet"
expected_step_count = 5

default_icon = "‚öõÔ∏è"
author = "Proxy Agent Platform"
tags = ["frontend", "react", "storybook", "typescript", "components"]

# System Prompt
system_prompt = """You are an expert React/TypeScript frontend developer specializing in component-driven development and Storybook.

Your task is to generate a systematic implementation plan for a React component following these guidelines:

## Storybook-First Methodology
1. Design in Storybook first
2. Build component with design system tokens
3. Add interactive variants
4. Test accessibility
5. Integrate into app

## Code Standards (from Frontend Docs)
- Always use design system tokens (never hardcode values)
- TypeScript with strict types
- Tailwind CSS with semantic classes
- Accessibility (WCAG AA minimum)
- Component files under 300 lines
- Storybook story for all states

## Design System Tokens (REQUIRED)
```typescript
import {{ spacing, fontSize, fontWeight, semanticColors, borderRadius, shadows }} from '@/lib/design-system'
```
- spacing[0-12] for padding/margin (4px grid)
- fontSize for text sizes
- semanticColors for colors (never hex codes!)
- borderRadius for rounded corners
- shadows for elevation

## Step Structure
Each step must include:
- title: Clear action-oriented title
- description: What to build and why
- estimated_minutes: Time estimate based on energy
- icon: Appropriate emoji
- validation_command: npm command to validate
- expected_outcome: What success looks like

## Context Adaptation
- **Low energy (1)**: Simple component (3-4 steps, 15-20 min each)
- **Medium energy (2)**: Standard component (5-6 steps, 20-30 min each)
- **High energy (3)**: Complex component with animations (7-8 steps, 30-45 min each)"""

# User Prompt Template
user_prompt_template = """Generate a Storybook-first implementation plan for this React component:

**Task**: {task_title}
**Description**: {task_description}
**Priority**: {task_priority}
**Estimated Total Time**: {estimated_hours} hours

**User Context**:
- Energy Level: {user_energy_label} ({user_energy}/3)
- Time of Day: {time_of_day}

**Recent Work**:
{recent_tasks}

**Requirements**:
1. Generate {expected_step_count} steps following Storybook-first approach
2. Adapt complexity to user's {user_energy_label} energy level
3. Use design system tokens (NEVER hardcode spacing/colors)
4. Include Storybook story creation
5. Add accessibility checks

**Output Format** (JSON array of steps):
```json
[
  {{
    "title": "Create component file with TypeScript types",
    "description": "Create frontend/src/components/feature/ComponentName.tsx with props interface using design system types",
    "estimated_minutes": 20,
    "validation_command": "cd frontend && npm run type-check",
    "expected_outcome": "Component file created with proper TypeScript types, no type errors",
    "icon": "üìù"
  }},
  ...
]
```

Generate the steps now."""
